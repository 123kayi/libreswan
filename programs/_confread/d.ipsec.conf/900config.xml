<refsect1 id='config_sections'><title>CONFIG SECTIONS</title>
<para>At present, the only
<emphasis remap='B'>config</emphasis>
section known to the IPsec software is the one named
<emphasis remap='B'>setup</emphasis>,
which contains information used when the software is being started
(see
<citerefentry><refentrytitle>ipsec_setup</refentrytitle><manvolnum>8</manvolnum></citerefentry>).
Here's an example:</para>

<!-- .ne 8 -->
<literallayout remap='.nf'>
<!-- .ta 1c -->
<emphasis remap='B'>
config setup
	interfaces="ipsec0=eth1 ipsec1=ppp0"
	klipsdebug=none
	plutodebug=all
	manualstart=
</emphasis>
</literallayout> <!-- .fi -->

<para>Parameters are optional unless marked &ldquo;(required)&rdquo;.</para>

<para>The currently-accepted
<emphasis remap='I'>parameter</emphasis>
names in a
<emphasis remap='B'>config</emphasis>
<emphasis remap='B'>setup</emphasis>
section are:</para>

<variablelist remap='TP'>
  <varlistentry>
  <term><emphasis remap='B'>myid</emphasis></term>
  <listitem>
<para>the identity to be used for
<emphasis remap='B'>%myid</emphasis>.
<emphasis remap='B'>%myid</emphasis>
is used in the implicit policy group conns and can be used as
an identity in explicit conns.
If unspecified,
<emphasis remap='B'>%myid</emphasis>
is set to the IP address in <emphasis remap='B'>%defaultroute</emphasis> (if that is supported by a TXT record in its reverse domain), or otherwise
the system's hostname (if that is supported by a TXT record in its forward domain), or otherwise it is undefined.
An explicit value generally starts with ``<emphasis remap='B'>@</emphasis>''.</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>interfaces</emphasis></term>
  <listitem>
<para>virtual and physical interfaces for IPsec to use:
a single
<emphasis remap='I'>virtual</emphasis><emphasis remap='B'>=</emphasis><emphasis remap='I'>physical</emphasis> pair, a (quoted!) list of pairs separated
by white space, or
<emphasis remap='B'>%none</emphasis>.
One of the pairs may be written as
<emphasis remap='B'>%defaultroute</emphasis>,
which means: find the interface <emphasis remap='I'>d</emphasis> that the default route points to,
and then act as if the value was ``<emphasis remap='B'>ipsec0=</emphasis><emphasis remap='I'>d</emphasis>''.
<emphasis remap='B'>%defaultroute</emphasis>
is the default;
<emphasis remap='B'>%none</emphasis>
must be used to denote no interfaces.
If
<emphasis remap='B'>%defaultroute</emphasis>
is used (implicitly or explicitly)
information about the default route and its interface is noted for
use by
<citerefentry><refentrytitle>ipsec_manual</refentrytitle><manvolnum>8</manvolnum></citerefentry>
and
<citerefentry><refentrytitle>ipsec_auto</refentrytitle><manvolnum>8</manvolnum></citerefentry>.)</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>forwardcontrol</emphasis></term>
  <listitem>
<para>whether
<emphasis remap='I'>setup</emphasis>
should turn IP forwarding on
(if it's not already on) as IPsec is started,
and turn it off again (if it was off) as IPsec is stopped;
acceptable values are
<emphasis remap='B'>yes</emphasis>
and (the default)
<emphasis remap='B'>no</emphasis>.
For this to have full effect, forwarding must be
disabled before the hardware interfaces are brought
up (e.g.,
<emphasis remap='B'>net.ipv4.ip_forward&nbsp;=&nbsp;0</emphasis>
in Red Hat 6.x
<filename>/etc/sysctl.conf</filename>),
because IPsec doesn't get control early enough to do that.</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>rp_filter</emphasis></term>
  <listitem>
<para>whether and how
<emphasis remap='I'>setup</emphasis>
should adjust the reverse path filtering mechanism for the
physical devices to be used.
Values are <emphasis remap='B'>%unchanged</emphasis> (to leave it alone)
or <literal>0</literal>, <literal>1</literal>, <literal>2</literal> (values to set it to).
<filename>/proc/sys/net/ipv4/conf/PHYS/rp_filter</filename>
is badly documented; it must be <literal>0</literal> in many cases
for ipsec to function.
The default value for the parameter is <literal>0</literal>.</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>syslog</emphasis></term>
  <listitem>
<para>the
<citerefentry><refentrytitle>syslog</refentrytitle><manvolnum>2</manvolnum></citerefentry>
&ldquo;facility&rdquo; name and priority to use for
startup/shutdown log messages,
default
<emphasis remap='B'>daemon.error</emphasis>.</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>klipsdebug</emphasis></term>
  <listitem>
<para>how much KLIPS debugging output should be logged.
An empty value,
or the magic value
<emphasis remap='B'>none</emphasis>,
means no debugging output (the default).
The magic value
<emphasis remap='B'>all</emphasis>
means full output.
Otherwise only the specified types of output
(a quoted list, names separated by white space) are enabled;
for details on available debugging types, see
<citerefentry><refentrytitle>ipsec_klipsdebug</refentrytitle><manvolnum>8</manvolnum></citerefentry>.</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>plutodebug</emphasis></term>
  <listitem>
<para>how much Pluto debugging output should be logged.
An empty value,
or the magic value
<emphasis remap='B'>none</emphasis>,
means no debugging output (the default).
The magic value
<emphasis remap='B'>all</emphasis>
means full output.
Otherwise only the specified types of output
(a quoted list, names without the
<option>--debug-</option>
prefix,
separated by white space) are enabled;
for details on available debugging types, see
<citerefentry><refentrytitle>ipsec_pluto</refentrytitle><manvolnum>8</manvolnum></citerefentry>.</para>

  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>plutoopts</emphasis></term>
  <listitem>
<para>additional options to pass to pluto upon startup. See
<citerefentry><refentrytitle>ipsec_pluto</refentrytitle><manvolnum>8</manvolnum></citerefentry>.</para>
  </listitem>
  </varlistentry>
  <varlistentry>

  <term><emphasis remap='B'>plutostderrlog</emphasis></term>
  <listitem>
<para>do not use syslog, but rather log to stderr, and direct stderr to the
argument file.</para>

  </listitem>
  </varlistentry>
  <varlistentry>

